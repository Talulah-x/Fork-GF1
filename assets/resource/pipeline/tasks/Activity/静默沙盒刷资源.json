{
    "!静默沙盒刷资源": {
        "next": [
            "静默沙盒_主循环"
        ]
    },
    "静默沙盒_主循环": {
        "recognition": "DirectHit",
        "action": "DoNothing", 
        "next": [
            "静默沙盒_剧情对话_00"
        ]
    },
    "静默沙盒_剧情对话_00": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/00_skip_cropped.png",
        "roi": [0, 0, 100, 100],
        "threshold": 0.95,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_点击跳过_00"
        ]
    },
    "静默沙盒_点击跳过_00": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [1231, 30, 15, 15],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_缩小地图"
        ]
    },
    "静默沙盒_缩小地图": {
        "recognition": "DirectHit",
        "action": "Command",
        "exec": "powershell",
        "args": [
            "-ExecutionPolicy", "Bypass",
            "-File", "{RESOURCE_DIR}/../tools/scroll.ps1",
            "-ScrollCount", "100",
            "-Direction", "down"
        ],
        "post_delay": 100,
        "next": [
            "静默沙盒_地图平移1"
        ]
    },
    "静默沙盒_地图平移1":{
        "recognition": "DirectHit",
        "action": "Swipe",
        "begin": [280, 600, 1, 1],
        "end": [1000, 110, 1, 1],
        "duration": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_地图平移2"
        ]
    },
    "静默沙盒_地图平移2":{
        "recognition": "DirectHit",
        "action": "Swipe",
        "begin": [280, 600, 1, 1],
        "end": [1000, 110, 1, 1],
        "duration": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_部署铁血_R_点击机场"
        ]
    },
    "静默沙盒_部署铁血_R_点击机场":{
        "recognition": "OCR",
        "roi" : [1037,621,94,47],
        "expected":"开始",
        "action": "Click",
        "target" : [483,530,0,0],
        "post_delay":200,
        "next": [
            "静默沙盒_部署铁血_R_部署_点击确定",
            "静默沙盒_部署铁血_R_已部署_点击取消",
            "静默沙盒_部署铁血_R_重装部队_被选中"
        ]
    },
    "静默沙盒_部署铁血_R_部署_点击确定":{
        "recognition": "OCR",
        "roi" : [1141,612,86,50],
        "expected":"确定",
        "action": "Click",
        "pre_delay":200,
        "target" : [1141,612,86,50],
        "post_delay":400,
        "next":[
            "静默沙盒_部署铁血_L_点击机场"
        ]
    },
    "静默沙盒_部署铁血_R_已部署_点击取消":{
        "recognition": "OCR",
        "roi" : [1141,612,86,50],
        "expected":"取消",
        "action": "Click",
        "pre_delay":200,
        "target" : [1141,612,86,50],
        "post_delay":400,
        "next":[
            "静默沙盒_部署铁血_L_点击机场"
        ]
    },
    "静默沙盒_部署铁血_R_重装部队_被选中":{
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/01_deploy_cropped.png",
        "roi": [50, 150, 200, 150],
        "threshold": 0.95,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_部署铁血_R_重装部队_切换到普通梯队"
        ]
    },
    "静默沙盒_部署铁血_R_重装部队_切换到普通梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [300, 95, 15, 15],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_部署铁血_R_部署_点击确定"
        ]
    },
    "静默沙盒_部署铁血_L_点击机场":{
        "recognition": "OCR",
        "roi" : [1037,621,94,47],
        "expected":"开始",
        "action": "Click",
        "target" : [408,455,0,0],
        "post_delay":200,
        "next": [
            "静默沙盒_部署铁血_L_部署_点击确定",
            "静默沙盒_部署铁血_L_已部署_点击取消",
            "静默沙盒_部署铁血_L_重装部队_被选中"
        ]
    },
    "静默沙盒_部署铁血_L_部署_点击确定":{
        "recognition": "OCR",
        "roi" : [1141,612,86,50],
        "expected":"确定",
        "action": "Click",
        "pre_delay":200,
        "target" : [1141,612,86,50],
        "post_delay":200,
        "next":[
            "静默沙盒_作战开始"
        ]
    },
    "静默沙盒_部署铁血_L_已部署_点击取消":{
        "recognition": "OCR",
        "roi" : [1141,612,86,50],
        "expected":"取消",
        "action": "Click",
        "pre_delay":200,
        "target" : [1141,612,86,50],
        "post_delay":200,
        "next":[
            "静默沙盒_作战开始"
        ]
    },
    "静默沙盒_部署铁血_L_重装部队_被选中":{
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/01_deploy_cropped.png",
        "roi": [50, 150, 200, 150],
        "threshold": 0.95,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_部署铁血_L_重装部队_切换到普通梯队"
        ]
    },
    "静默沙盒_部署铁血_L_重装部队_切换到普通梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [300, 95, 15, 15],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_部署铁血_L_部署_点击确定"
        ]
    },
    "静默沙盒_作战开始":{
        "recognition": "OCR",
        "roi" : [1042,624,88,45],
        "expected":"开始",
        "action": "Click",
        "target" : [1040,629,179,61],
        "post_delay": 2000,
        "next":[
            "静默沙盒_剧情对话_01"
        ]
    },
    "静默沙盒_剧情对话_01": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/02_skip_cropped.png",
        "roi": [200, 550, 800, 100],
        "threshold": 0.8,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_点击跳过_01"
        ]
    },
    "静默沙盒_点击跳过_01": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [1231, 30, 15, 15],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_任务简报"
        ]
    },
    "静默沙盒_任务简报": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/03_close_brief_cropped.png",
        "roi": [50, 150, 150, 350],
        "threshold": 0.8,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_关闭简报"
        ]
    },
    "静默沙盒_关闭简报": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [97, 122, 15, 15],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_初始状态判断"
        ]
    },
    "静默沙盒_战斗阶段_初始状态判断": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/04_turn1_cropped.png",
        "roi": [980, 620, 100, 90],
        "threshold": 0.8,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_Begin"
        ]
    },
    // 第一轮战斗 Begin
    "静默沙盒_战斗阶段_计划模式_1_Begin": {
        "recognition": "DirectHit",
        // 点击空白位置
        "action": "Click",
        "target": [305, 605, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_点击计划_Begin"
        ]
    },
    /// 计划模式 Begin
    "静默沙盒_战斗阶段_计划模式_1_点击计划_Begin": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [80, 630, 15, 15],
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_点击计划_生效判断"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_点击计划_生效判断": {
        "recognition": "DirectHit",
        "action": "DoNothing",
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_点击计划_检查是否进入计划模式",
            "静默沙盒_战斗阶段_计划模式_1_点击计划_重新点击"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_点击计划_检查是否进入计划模式": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/04_planning_cropped.png",
        "roi": [1100, 640, 100, 50],
        "threshold": 0.9,
        "action": "DoNothing",
        "timeout": 1000,
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_铁血_R_点击梯队"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_点击计划_重新点击": {
        "recognition": "DirectHit",
        "action": "DoNothing",
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_点击计划_Begin"
        ]
    },
    /// 计划模式 End
    "静默沙盒_战斗阶段_计划模式_1_铁血_R_点击梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [483, 530, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_铁血_R_点击目标地点"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_铁血_R_点击目标地点": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [560, 530, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_铁血_R_点击空白位置"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_铁血_R_点击空白位置": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [305, 605, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_铁血_L_点击梯队"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_铁血_L_点击梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [408, 455, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_铁血_L_点击目标地点"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_铁血_L_点击目标地点": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [408, 380, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_铁血_L_点击空白位置"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_铁血_L_点击空白位置": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [305, 605, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_指挥官_点击梯队"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_指挥官_点击梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [747, 192, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_指挥官_杂鱼_R"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_指挥官_杂鱼_R": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [860, 225, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_指挥官_杂鱼_U"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_指挥官_杂鱼_U": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [785, 82, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_指挥官_返回初始位置"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_指挥官_返回初始位置": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [747, 192, 0, 0],
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_回合判断"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_回合判断": {
        "recognition": "DirectHit",
        "action": "DoNothing",
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_检查回合5",
            "静默沙盒_战斗阶段_计划模式_1_继续循环"
        ]
    },
    // if 剩余回合 == 5，则进行计划
    "静默沙盒_战斗阶段_计划模式_1_检查回合5": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/04_end5_cropped.png",
        "roi": [980, 620, 100, 90],
        "threshold": 0.9,
        "action": "DoNothing",
        "timeout": 1000,
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_执行计划"
        ]
    },
    // else 剩余回合 != 5，重新执行计划模式
    "静默沙盒_战斗阶段_计划模式_1_继续循环": {
        "recognition": "DirectHit",
        "action": "DoNothing",
        "pre_delay": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_1_Begin"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_1_执行计划": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [1185, 675, 0, 0],
        "pre_delay": 500,
        "post_delay": 10000,
        "next": [
            "静默沙盒_战斗阶段_指挥官_制造补给_判断"
        ]
    },
    // 第一轮战斗 第一轮战斗End
    "静默沙盒_战斗阶段_指挥官_制造补给_判断": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/05_create_cropped.png",
        "roi": [50, 250, 100, 100],
        "threshold": 0.8,
        "action": "DoNothing",
        "timeout": 10000,
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_指挥官_制造补给_点击制造"
        ]
    },
    "静默沙盒_战斗阶段_指挥官_制造补给_点击制造": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [100,520,0,0],
        "pre_delay": 500,
        // 装备制造会卡一下，这里用暂定3秒
        "post_delay": 3000,
        "next": [
            "静默沙盒_地图平移3"
        ]
    },
    "静默沙盒_地图平移3":{
        "recognition": "DirectHit",
        "action": "Swipe",
        "begin": [280, 600, 1, 1],
        "end": [1000, 110, 1, 1],
        "duration": 100,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_计划模式_2_点击空白位置"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_2_点击空白位置": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [305,605,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_战斗阶段_计划模式_2_点击计划"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_2_点击计划": {
        "recognition": "DirectHit",
        "action": "Click",
        "target": [80, 630, 15, 15],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_战斗阶段_计划模式_2_指挥官_点击梯队"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_2_指挥官_点击梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [747,192,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_战斗阶段_计划模式_2_指挥官_点击目标地点"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_2_指挥官_点击目标地点": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [633,310,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_战斗阶段_计划模式_2_执行计划"
        ]
    },
    "静默沙盒_战斗阶段_计划模式_2_执行计划": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [1185,675,0,0],
        "pre_delay": 500,
        "post_delay": 5000,
        "next": [
            "静默沙盒_战斗阶段_指挥官_执行补给_铁血R_判断"
        ]
    },
    "静默沙盒_战斗阶段_指挥官_执行补给_铁血R_判断": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/06_supply_cropped.png",
        "roi": [20, 200, 150, 150],
        "threshold": 0.8,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_指挥官_执行补给_铁血R_使用装置"
        ]
    },
    "静默沙盒_战斗阶段_指挥官_执行补给_铁血R_使用装置": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [100,455,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_战斗阶段_指挥官_执行补给_铁血R_点击梯队"
        ]
    },
    "静默沙盒_战斗阶段_指挥官_执行补给_铁血R_点击梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [558,588,0,0],
        "pre_delay": 500,
        "post_delay": 1000,
        "next": [
            "静默沙盒_战斗阶段_指挥官_执行补给_铁血L_判断"
        ]
    },
    "静默沙盒_战斗阶段_指挥官_执行补给_铁血L_判断": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/06_supply_cropped.png",
        "roi": [20, 200, 150, 150],
        "threshold": 0.8,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_战斗阶段_指挥官_执行补给_铁血L_使用装置"
        ]
    },
    "静默沙盒_战斗阶段_指挥官_执行补给_铁血L_使用装置": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [100,455,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_战斗阶段_指挥官_执行补给_铁血L_点击梯队"
        ]
    },
    "静默沙盒_战斗阶段_指挥官_执行补给_铁血L_点击梯队": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [408,433,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_结算_判断"
        ]
    },
    "静默沙盒_结算_判断": {
        "recognition": "TemplateMatch",
        "template": "./sandbox_resource/07_end_cropped.png",
        "roi": [1200, 175, 30, 25],
        "threshold": 0.8,
        "action": "DoNothing",
        "timeout": 5000,
        "pre_delay": 500,
        "post_delay": 100,
        "next": [
            "静默沙盒_结算_点击战役结算"
        ]
    },
    "静默沙盒_结算_点击战役结算": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [315,50,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_结算_确定"
        ]
    },
    "静默沙盒_结算_确定": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [740,500,0,0],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_再次作战_1"
        ]
    },
    "静默沙盒_再次作战_1":{
        "recognition": "OCR",
        "roi" : [366,610,100,27],
        "expected": "再次作战",
        "action": "Click",
        "post_delay": 1000,
        "target" : [366,610,100,27],
        "next":[
            "静默沙盒_再次作战_2"
        ]
    },
    "静默沙盒_再次作战_2": {
        "recognition": "DirectHit",
        "action": "Click",
        "target" : [366,610,100,27],
        "pre_delay": 500,
        "post_delay": 500,
        "next": [
            "静默沙盒_再次作战_3"
        ]
    },
    "静默沙盒_再次作战_3":{
        "recognition": "OCR",
        "roi" : [366,610,100,27],
        "expected": "再次作战",
        "action": "Click",
        "post_delay": 3000,
        "target" : [366,610,100,27],
        "next":[
            "静默沙盒_主循环"
        ]
    }
}